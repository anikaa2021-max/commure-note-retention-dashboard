{"uuid":"d05107fa-afdf-11f0-a772-a7a37da449c3","page":{"id":459743382,"data":{"appState":"[\"~#iR\",[\"^ \",\"n\",\"appTemplate\",\"v\",[\"^ \",\"appMaxWidth\",\"100%\",\"appStyles\",\"\",\"appTesting\",null,\"appThemeId\",null,\"appThemeModeId\",null,\"appThemeName\",null,\"createdAt\",null,\"customComponentCollections\",[],\"customDocumentTitle\",\"\",\"customDocumentTitleEnabled\",false,\"customShortcuts\",[],\"experimentalDataTabEnabled\",true,\"experimentalFeatures\",[\"^ \",\"disableMultiplayerEditing\",false,\"multiplayerEditingEnabled\",false,\"sourceControlTemplateDehydration\",false],\"folders\",[\"~#iL\",[]],\"formAppSettings\",[\"^ \",\"customRedirectUrl\",\"\"],\"inAppRetoolPillAppearance\",\"NO_OVERRIDE\",\"instrumentationEnabled\",false,\"internationalizationSettings\",[\"^ \",\"internationalizationEnabled\",false,\"internationalizationFiles\",[]],\"isFetching\",false,\"isFormApp\",false,\"isGlobalWidget\",false,\"isMobileApp\",false,\"loadingIndicatorsDisabled\",false,\"markdownLinkBehavior\",\"auto\",\"mobileAppSettings\",[\"^ \",\"displaySetting\",[\"^ \",\"landscapeMode\",false,\"tabletMode\",false],\"mobileOfflineModeBannerMode\",\"default\",\"mobileOfflineModeDelaySync\",false,\"mobileOfflineModeEnabled\",false],\"mobileOfflineAssets\",[],\"multiScreenMobileApp\",false,\"notificationsSettings\",[\"^ \",\"globalQueryShowFailureToast\",true,\"globalQueryShowSuccessToast\",false,\"globalQueryToastDuration\",4.5,\"globalToastPosition\",\"bottomRight\"],\"pageCodeFolders\",[\"^ \"],\"pageLoadValueOverrides\",[\"^B\",[]],\"persistUrlParams\",false,\"plugins\",[\"~#iOM\",[\"page1\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"page1\",\"uuid\",\"66e7d3be-4bc3-4a0d-8cec-0aa4502d797c\",\"_comment\",null,\"type\",\"screen\",\"subtype\",\"Screen\",\"namespace\",null,\"resourceName\",null,\"resourceDisplayName\",null,\"template\",[\"~#iM\",[\"title\",\"Page 1\",\"browserTitle\",\"\",\"urlSlug\",\"\",\"_order\",0,\"_searchParams\",[\"^B\",[]],\"_hashParams\",[\"^B\",[]],\"_customShortcuts\",[\"^B\",[]]]],\"style\",null,\"position2\",null,\"mobilePosition2\",null,\"mobileAppPosition\",null,\"tabIndex\",null,\"container\",\"\",\"^7\",\"~m1761203625589\",\"updatedAt\",\"~m1761203625589\",\"folder\",\"\",\"presetName\",null,\"screen\",null,\"boxId\",null,\"subBoxIds\",null]]],\"$main\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"$main\",\"^17\",null,\"^18\",null,\"^19\",\"frame\",\"^1:\",\"Frame\",\"^1;\",null,\"^1<\",null,\"^1=\",null,\"^1>\",[\"^1?\",[\"type\",\"main\",\"padding\",\"8px 12px\",\"enableFullBleed\",false,\"isHiddenOnDesktop\",false,\"isHiddenOnMobile\",false]],\"^1@\",[\"^1?\",[]],\"^1A\",null,\"^1B\",null,\"^1C\",null,\"^1D\",null,\"^1E\",\"\",\"^7\",\"~m1761203625589\",\"^1F\",\"~m1761203625589\",\"^1G\",\"\",\"^1H\",null,\"^1I\",\"page1\",\"^1J\",null,\"^1K\",null]]],\"query1\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"query1\",\"^17\",null,\"^18\",null,\"^19\",\"datasource\",\"^1:\",\"SqlQueryUnified\",\"^1;\",null,\"^1<\",\"a4a2ad43-eaef-4366-84c5-fd942a2e900e\",\"^1=\",\"retool_db\",\"^1>\",[\"^1?\",[\"queryRefreshTime\",\"\",\"allowedGroupIds\",[\"^B\",[]],\"streamResponse\",false,\"records\",\"\",\"lastReceivedFromResourceAt\",null,\"isFunction\",false,\"databasePasswordOverride\",\"\",\"functionParameters\",null,\"queryDisabledMessage\",\"\",\"servedFromCache\",false,\"offlineUserQueryInputs\",\"\",\"functionDescription\",null,\"successMessage\",\"\",\"queryDisabled\",\"\",\"playgroundQuerySaveId\",\"latest\",\"workflowParams\",null,\"resourceNameOverride\",\"\",\"runWhenModelUpdates\",true,\"workflowRunExecutionType\",\"sync\",\"showFailureToaster\",true,\"query\",\"return fileInput1.parsedValue[0];\",\"playgroundQueryUuid\",\"\",\"playgroundQueryId\",null,\"error\",null,\"workflowRunBodyType\",\"raw\",\"privateParams\",[\"^B\",[]],\"queryRunOnSelectorUpdate\",false,\"runWhenPageLoadsDelay\",\"\",\"warningCodes\",[\"^B\",[]],\"data\",null,\"recordId\",\"\",\"importedQueryInputs\",[\"^1?\",[]],\"_additionalScope\",[\"^B\",[]],\"isImported\",false,\"showSuccessToaster\",false,\"dataArray\",[\"^B\",[]],\"cacheKeyTtl\",\"\",\"filterBy\",\"\",\"requestSentTimestamp\",null,\"databaseHostOverride\",\"\",\"metadata\",null,\"editorMode\",\"sql\",\"queryRunTime\",null,\"actionType\",\"\",\"changesetObject\",\"\",\"shouldUseLegacySql\",false,\"offlineOptimisticResponse\",null,\"errorTransformer\",\"return data.error\",\"finished\",null,\"databaseNameOverride\",\"\",\"confirmationMessage\",null,\"isFetching\",false,\"changeset\",\"\",\"rawData\",null,\"queryTriggerDelay\",\"0\",\"resourceTypeOverride\",null,\"watchedParams\",[\"^B\",[]],\"enableErrorTransformer\",false,\"databaseWarehouseOverride\",\"\",\"enableBulkUpdates\",false,\"showLatestVersionUpdatedWarning\",false,\"timestamp\",0,\"importedQueryDefaults\",[\"^1?\",[]],\"enableTransformer\",false,\"showUpdateSetValueDynamicallyToggle\",false,\"overrideOrgCacheForUserCache\",false,\"bulkUpdatePrimaryKey\",\"\",\"runWhenPageLoads\",false,\"transformer\",\"return data\",\"events\",[\"^B\",[]],\"tableName\",\"\",\"queryTimeout\",\"10000\",\"workflowId\",null,\"requireConfirmation\",false,\"queryFailureConditions\",\"\",\"changesetIsObject\",false,\"enableCaching\",false,\"allowedGroups\",[\"^B\",[]],\"databaseUsernameOverride\",\"\",\"databaseRoleOverride\",\"\",\"shouldEnableBatchQuerying\",false,\"doNotThrowOnNoOp\",false,\"offlineQueryType\",\"None\",\"queryThrottleTime\",\"750\",\"updateSetValueDynamically\",true,\"notificationDuration\",4.5]],\"^1@\",null,\"^1A\",null,\"^1B\",null,\"^1C\",null,\"^1D\",null,\"^1E\",\"\",\"^7\",\"~m1761203702023\",\"^1F\",\"~m1761254192010\",\"^1G\",\"\",\"^1H\",null,\"^1I\",\"page1\",\"^1J\",null,\"^1K\",null]]],\"query2\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"query2\",\"^17\",null,\"^18\",null,\"^19\",\"datasource\",\"^1:\",\"connectResource\",\"^1;\",null,\"^1<\",null,\"^1=\",null,\"^1>\",[\"^1?\",[\"_componentId\",\"table1\"]],\"^1@\",null,\"^1A\",null,\"^1B\",null,\"^1C\",null,\"^1D\",null,\"^1E\",\"\",\"^7\",\"~m1761204223555\",\"^1F\",\"~m1761204223555\",\"^1G\",\"\",\"^1H\",null,\"^1I\",\"page1\",\"^1J\",null,\"^1K\",null]]],\"fileInput1\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"fileInput1\",\"^17\",\"94e02aa6-70fa-4375-9eb6-a7fecf828a96\",\"^18\",null,\"^19\",\"widget\",\"^1:\",\"FileInputWidget\",\"^1;\",null,\"^1<\",null,\"^1=\",null,\"^1>\",[\"^1?\",[\"parsedValue\",[],\"iconAfter\",\"\",\"parseFiles\",true,\"maxSize\",\"250mb\",\"appendNewSelection\",false,\"selectionType\",\"single\",\"accept\",\".csv\",\"hidden\",false,\"customValidation\",\"\",\"maxCount\",20,\"hideValidationMessage\",false,\"textBefore\",\"Browse\",\"validationMessage\",\"\",\"margin\",\"4px 8px\",\"textAfter\",\"\",\"showInEditor\",false,\"showClear\",false,\"parsing\",false,\"shouldOverwriteOnNameCollision\",false,\"tooltipText\",\"\",\"labelAlign\",\"left\",\"formDataKey\",\"{{ self.id }}\",\"value\",[],\"_isUpgraded\",true,\"labelCaption\",\"\",\"labelWidth\",\"33\",\"isPublic\",false,\"minSize\",\"\",\"placeholder\",\"Upload csv\",\"uploadToRetoolStorage\",false,\"label\",\"Data File\",\"_validate\",false,\"labelWidthUnit\",\"%\",\"invalid\",false,\"files\",[],\"iconBefore\",\"bold/programming-browser-search\",\"events\",[\"^B\",[]],\"loading\",false,\"disabled\",false,\"labelPosition\",\"top\",\"minCount\",null,\"labelWrap\",false,\"maintainSpaceWhenHidden\",false,\"required\",false]],\"^1@\",[\"^1?\",[]],\"^1A\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^19\",\"grid\",\"^1E\",\"\",\"rowGroup\",\"body\",\"subcontainer\",\"\",\"row\",9.8,\"col\",0,\"height\",0.2,\"width\",4,\"tabNum\",0,\"stackPosition\",null]]],\"^1B\",null,\"^1C\",null,\"^1D\",null,\"^1E\",\"\",\"^7\",\"~m1761204982476\",\"^1F\",\"~m1761254076859\",\"^1G\",\"\",\"^1H\",null,\"^1I\",\"page1\",\"^1J\",null,\"^1K\",null]]],\"table1\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"table1\",\"^17\",\"b61cde90-d30f-4fd8-b831-d3a85ef62173\",\"^18\",null,\"^19\",\"widget\",\"^1:\",\"TableWidget2\",\"^1;\",null,\"^1<\",null,\"^1=\",null,\"^1>\",[\"^1?\",[\"selectedRowKey\",null,\"_nextAfterCursor\",\"\",\"_columnBackgroundColor\",[\"^1?\",[\"d2bd1\",\"\",\"d08b7\",\"\",\"4f756\",\"\",\"fb55c\",\"\",\"024fa\",\"\",\"169eb\",\"\",\"c157b\",\"\",\"12e6f\",\"\",\"cf903\",\"\",\"4cebf\",\"\",\"3a8e7\",\"{{ \\n  Number(currentSourceRow[\\\"Retention %\\\"]) >= 80 ? \\\"#d1fae5\\\" :    // light green\\n  Number(currentSourceRow[\\\"Retention %\\\"]) >= 60 ? \\\"#fef9c3\\\" :    // pale yellow\\n  \\\"#fee2e2\\\"                                                // pale red\\n}}\"]],\"_defaultSort\",null,\"_columnSearchMode\",[\"^1?\",[\"d2bd1\",\"default\",\"d08b7\",\"default\",\"4f756\",\"default\",\"fb55c\",\"default\",\"024fa\",\"default\",\"169eb\",\"default\",\"c157b\",\"default\",\"12e6f\",\"default\",\"cf903\",\"default\",\"4cebf\",\"default\",\"3a8e7\",\"default\"]],\"_clearChangesetOnSave\",true,\"heightType\",\"fixed\",\"_columnTextColor\",[\"^1?\",[\"d2bd1\",\"\",\"d08b7\",\"\",\"4f756\",\"\",\"fb55c\",\"\",\"024fa\",\"\",\"169eb\",\"\",\"c157b\",\"\",\"12e6f\",\"\",\"cf903\",\"\",\"4cebf\",\"\",\"3a8e7\",\"\"]],\"disableEdits\",false,\"autoColumnWidth\",false,\"_rowHeight\",\"medium\",\"_columnIds\",[\"^B\",[\"024fa\",\"d2bd1\",\"c157b\",\"fb55c\",\"12e6f\",\"4cebf\",\"4f756\",\"169eb\",\"cf903\",\"3a8e7\",\"d08b7\"]],\"_isSaving\",false,\"_headerTextWrap\",false,\"_actionIds\",[\"^B\",[\"ddebb\"]],\"_clearChangeset\",false,\"caseSensitiveFiltering\",false,\"_limitOffsetRowCount\",null,\"selectedSourceRow\",null,\"_dynamicColumnsEnabled\",false,\"disableSave\",false,\"_columnEditableOptions\",[\"^1?\",[\"d2bd1\",[\"^1?\",[]],\"d08b7\",[\"^1?\",[\"showStepper\",true]],\"4f756\",[\"^1?\",[\"showStepper\",true]],\"fb55c\",[\"^1?\",[]],\"024fa\",[\"^1?\",[\"showStepper\",true]],\"169eb\",[\"^1?\",[\"showStepper\",true]],\"c157b\",[\"^1?\",[]],\"12e6f\",[\"^1?\",[]],\"cf903\",[\"^1?\",[]],\"4cebf\",[\"^1?\",[]],\"3a8e7\",[\"^1?\",[\"showStepper\",true]]]],\"_toolbarPosition\",\"bottom\",\"_groupByColumns\",[\"^B\",[]],\"_toolbarButtonLabel\",[\"^1?\",[\"1a\",\"Filter\",\"3c\",\"Download\",\"4d\",\"Refresh\"]],\"_nextBeforeCursor\",\"\",\"_persistRowSelection\",false,\"_toolbarButtonIcon\",[\"^1?\",[\"1a\",\"bold/interface-text-formatting-filter-2\",\"3c\",\"bold/interface-download-button-2\",\"4d\",\"bold/interface-arrows-round-left\"]],\"changesetArray\",[],\"groupByColumns\",[],\"_toolbarButtonType\",[\"^1?\",[\"1a\",\"filter\",\"3c\",\"custom\",\"4d\",\"custom\"]],\"_columnOptionList\",[\"^1?\",[\"d2bd1\",[\"^1?\",[]],\"d08b7\",[\"^1?\",[]],\"4f756\",[\"^1?\",[]],\"fb55c\",[\"^1?\",[]],\"024fa\",[\"^1?\",[]],\"169eb\",[\"^1?\",[]],\"c157b\",[\"^1?\",[]],\"12e6f\",[\"^1?\",[]],\"cf903\",[\"^1?\",[]],\"4cebf\",[\"^1?\",[]],\"3a8e7\",[\"^1?\",[]]]],\"_columnValueOverride\",[\"^1?\",[\"d2bd1\",\"\",\"d08b7\",\"\",\"4f756\",\"\",\"fb55c\",\"{{ _.startCase(item) }}\",\"024fa\",\"\",\"169eb\",\"\",\"c157b\",\"{{ _.startCase(item) }}\",\"12e6f\",\"{{ _.startCase(item) }}\",\"cf903\",\"\",\"4cebf\",\"{{ _.startCase(item) }}\",\"3a8e7\",\"{{ \\n  Number(currentSourceRow.tokens_before) > 0\\n    ? (Number(currentSourceRow.tokens_after) / Number(currentSourceRow.tokens_before)) * 100\\n    : 0\\n}}\"]],\"_showBorder\",true,\"_templatePageSize\",null,\"_dynamicColumnProperties\",[\"^1?\",[]],\"_showHeader\",true,\"_currentPage\",0,\"overflowActionsOverlayMinWidth\",null,\"_actionsOverflowPosition\",1,\"_columnKey\",[\"^1?\",[\"d2bd1\",\"note_id\",\"d08b7\",\"Retention %\",\"4f756\",\"tokens_before\",\"fb55c\",\"provider_id\",\"024fa\",\"event_id\",\"169eb\",\"tokens_after\",\"c157b\",\"site_id\",\"12e6f\",\"note_type\",\"cf903\",\"event_ts\",\"4cebf\",\"stage\",\"3a8e7\",\"\"]],\"hidden\",false,\"_toolbarButtonIds\",[\"^B\",[\"1a\",\"3c\",\"4d\"]],\"columnOrdering\",[],\"data\",\"{{ retentionData.data }}\",\"_cellSelection\",\"none\",\"_serverPaginated\",false,\"_linkedFilterId\",null,\"searchMode\",\"fuzzy\",\"_columnCellTooltip\",[\"^1?\",[\"d2bd1\",\"\",\"d08b7\",\"\",\"4f756\",\"\",\"fb55c\",\"\",\"024fa\",\"\",\"169eb\",\"\",\"c157b\",\"\",\"12e6f\",\"\",\"cf903\",\"\",\"4cebf\",\"\",\"3a8e7\",\"\"]],\"_columnFormat\",[\"^1?\",[\"d2bd1\",\"string\",\"d08b7\",\"decimal\",\"4f756\",\"decimal\",\"fb55c\",\"tag\",\"024fa\",\"decimal\",\"169eb\",\"decimal\",\"c157b\",\"tag\",\"12e6f\",\"tag\",\"cf903\",\"datetime\",\"4cebf\",\"tag\",\"3a8e7\",\"decimal\"]],\"_cursorCache\",[\"^ \"],\"_calculatedPageSize\",null,\"_primaryKeyColumnId\",\"\",\"selectedDataIndex\",null,\"_columnAlignment\",[\"^1?\",[\"d2bd1\",\"left\",\"d08b7\",\"right\",\"4f756\",\"right\",\"fb55c\",\"left\",\"024fa\",\"right\",\"169eb\",\"right\",\"c157b\",\"left\",\"12e6f\",\"left\",\"cf903\",\"left\",\"4cebf\",\"left\",\"3a8e7\",\"right\"]],\"_actionIcon\",[\"^1?\",[\"ddebb\",\"bold/interface-edit-pencil\"]],\"margin\",\"4px 8px\",\"_columnTooltip\",[\"^1?\",[\"d2bd1\",\"\",\"d08b7\",\"\",\"4f756\",\"\",\"fb55c\",\"\",\"024fa\",\"\",\"169eb\",\"\",\"c157b\",\"\",\"12e6f\",\"\",\"cf903\",\"\",\"4cebf\",\"\",\"3a8e7\",\"\"]],\"_columnIcon\",[\"^1?\",[\"d2bd1\",\"\",\"d08b7\",\"\",\"4f756\",\"\",\"fb55c\",\"\",\"024fa\",\"\",\"169eb\",\"\",\"c157b\",\"\",\"12e6f\",\"\",\"cf903\",\"\",\"4cebf\",\"\",\"3a8e7\",\"\"]],\"_alwaysShowRowSelectionCheckboxes\",false,\"_columnCellTooltipMode\",[\"^1?\",[\"d2bd1\",\"\",\"d08b7\",\"\",\"4f756\",\"\",\"fb55c\",\"\",\"024fa\",\"\",\"169eb\",\"\",\"c157b\",\"\",\"12e6f\",\"\",\"cf903\",\"\",\"4cebf\",\"\",\"3a8e7\",\"\"]],\"_pageSize\",null,\"showInEditor\",false,\"_isAddingNewRows\",false,\"selectedSourceRows\",[],\"_enableExpandableRows\",false,\"_selectMultipleRowsOnActionClick\",\"no\",\"_columnSortDisabled\",[\"^1?\",[\"d2bd1\",false,\"d08b7\",false,\"4f756\",false,\"fb55c\",false,\"024fa\",false,\"169eb\",false,\"c157b\",false,\"12e6f\",false,\"cf903\",false,\"4cebf\",false,\"3a8e7\",false]],\"_showSummaryRow\",false,\"filterStack\",null,\"_expandedRows\",null,\"changesetObject\",null,\"_actionDisabled\",[\"^1?\",[\"ddebb\",\"\"]],\"_columnReferenceId\",[\"^1?\",[\"d2bd1\",\"\",\"d08b7\",\"\",\"4f756\",\"\",\"fb55c\",\"\",\"024fa\",\"\",\"169eb\",\"\",\"c157b\",\"\",\"12e6f\",\"\",\"cf903\",\"\",\"4cebf\",\"\",\"3a8e7\",\"retention_rate\"]],\"_dynamicColumnSource\",[],\"_rowSelection\",\"single\",\"_columnCaption\",[\"^1?\",[\"d2bd1\",\"\",\"d08b7\",\"\",\"4f756\",\"\",\"fb55c\",\"\",\"024fa\",\"\",\"169eb\",\"\",\"c157b\",\"\",\"12e6f\",\"\",\"cf903\",\"\",\"4cebf\",\"\",\"3a8e7\",\"\"]],\"_dynamicColumnFormatOptions\",[\"^1?\",[]],\"_dynamicRowHeights\",false,\"_columnFormatOptions\",[\"^1?\",[\"d2bd1\",[\"^1?\",[]],\"d08b7\",[\"^1?\",[\"showSeparators\",true,\"notation\",\"standard\"]],\"4f756\",[\"^1?\",[\"showSeparators\",true,\"notation\",\"standard\"]],\"fb55c\",[\"^1?\",[\"automaticColors\",true]],\"024fa\",[\"^1?\",[\"showSeparators\",true,\"notation\",\"standard\"]],\"169eb\",[\"^1?\",[\"showSeparators\",true,\"notation\",\"standard\"]],\"c157b\",[\"^1?\",[\"automaticColors\",true]],\"12e6f\",[\"^1?\",[\"automaticColors\",true]],\"cf903\",[\"^1?\",[]],\"4cebf\",[\"^1?\",[\"automaticColors\",true]],\"3a8e7\",[\"^1?\",[\"showSeparators\",true,\"notation\",\"standard\",\"decimalPlaces\",\"1\"]]]],\"_changeset\",null,\"_afterCursor\",\"\",\"_columnHeaderBackgroundColor\",[\"^1?\",[\"d2bd1\",\"\",\"d08b7\",\"\",\"4f756\",\"\",\"fb55c\",\"\",\"024fa\",\"\",\"169eb\",\"\",\"c157b\",\"\",\"12e6f\",\"\",\"cf903\",\"\",\"4cebf\",\"\",\"3a8e7\",\"\"]],\"selectedRowKeys\",[],\"_columnHeaderTextColor\",[\"^1?\",[\"d2bd1\",\"\",\"d08b7\",\"\",\"4f756\",\"\",\"fb55c\",\"\",\"024fa\",\"\",\"169eb\",\"\",\"c157b\",\"\",\"12e6f\",\"\",\"cf903\",\"\",\"4cebf\",\"\",\"3a8e7\",\"\"]],\"_beforeCursor\",\"\",\"_columnSummaryAggregationMode\",[\"^1?\",[\"d2bd1\",\"none\",\"d08b7\",\"none\",\"4f756\",\"none\",\"fb55c\",\"none\",\"024fa\",\"none\",\"169eb\",\"none\",\"c157b\",\"none\",\"12e6f\",\"none\",\"cf903\",\"none\",\"4cebf\",\"none\",\"3a8e7\",\"none\"]],\"searchTerm\",\"\",\"selectedRows\",[],\"_disabledVirtualization\",false,\"_expandedRowDataIndexes\",[],\"_showColumnBorders\",false,\"_columnStatusIndicatorOptions\",[\"^1?\",[\"d2bd1\",[\"^1?\",[]],\"d08b7\",[\"^1?\",[]],\"4f756\",[\"^1?\",[]],\"fb55c\",[\"^1?\",[]],\"024fa\",[\"^1?\",[]],\"169eb\",[\"^1?\",[]],\"c157b\",[\"^1?\",[]],\"12e6f\",[\"^1?\",[]],\"cf903\",[\"^1?\",[]],\"4cebf\",[\"^1?\",[]],\"3a8e7\",[\"^1?\",[]]]],\"overflowActionsOverlayMaxHeight\",null,\"_columnSize\",[\"^1?\",[\"d2bd1\",58.640625,\"d08b7\",100,\"4f756\",96.734375,\"fb55c\",81.34375,\"024fa\",63.171875,\"169eb\",86.671875,\"c157b\",102.265625,\"12e6f\",88.859375,\"cf903\",136.21875,\"4cebf\",106,\"3a8e7\",83.421875]],\"_serverPaginationType\",\"limitOffsetBased\",\"_columnSortMode\",[\"^1?\",[\"d2bd1\",\"default\",\"d08b7\",\"default\",\"4f756\",\"default\",\"fb55c\",\"default\",\"024fa\",\"default\",\"169eb\",\"default\",\"c157b\",\"default\",\"12e6f\",\"default\",\"cf903\",\"default\",\"4cebf\",\"default\",\"3a8e7\",\"default\"]],\"_selectSingleRowsOnActionClick\",\"replace\",\"_showFooter\",true,\"_groupedColumnConfig\",[\"^1?\",[]],\"_dynamicColumnSize\",[\"^1?\",[]],\"_virtualizeStartIndex\",0,\"_toolbarButtonHidden\",[\"^1?\",[\"1a\",\"\",\"3c\",\"\",\"4d\",\"\"]],\"_defaultFilters\",[\"^1?\",[]],\"events\",[\"^B\",[[\"^1?\",[\"event\",\"clickRow\",\"type\",\"datasource\",\"method\",\"trigger\",\"pluginId\",\"retentionData\",\"targetId\",null,\"params\",[\"^1?\",[\"options\",[\"^ \",\"onSuccess\",null,\"onFailure\",null,\"additionalScope\",null]]],\"waitType\",\"debounce\",\"waitMs\",\"0\"]],[\"^1?\",[\"event\",\"clickCell\",\"type\",\"util\",\"method\",\"openUrl\",\"pluginId\",\"\",\"targetId\",\"e516f\",\"params\",[\"^1?\",[\"url\",\"{{ item }}\"]],\"waitType\",\"debounce\",\"waitMs\",\"0\"]]]],\"_columnEditable\",[\"^1?\",[\"\",false,\"d2bd1\",false,\"d08b7\",\"\",\"4f756\",\"\",\"fb55c\",\"\",\"024fa\",false,\"169eb\",\"\",\"c157b\",false,\"12e6f\",\"\",\"cf903\",\"\",\"4cebf\",\"\",\"3a8e7\",\"\"]],\"newRows\",[],\"_rowBackgroundColor\",\"\",\"emptyMessage\",\"No rows found\",\"pagination\",null,\"selectedDataIndexes\",[],\"_columnEditableInNewRows\",[\"^1?\",[\"d2bd1\",\"\",\"d08b7\",\"\",\"4f756\",\"\",\"fb55c\",\"\",\"024fa\",\"\",\"169eb\",\"\",\"c157b\",\"\",\"12e6f\",\"\",\"cf903\",\"\",\"4cebf\",\"\",\"3a8e7\",\"\"]],\"_columnGroupAggregationMode\",[\"^1?\",[\"d2bd1\",\"none\",\"d08b7\",\"sum\",\"4f756\",\"sum\",\"fb55c\",\"none\",\"024fa\",\"sum\",\"169eb\",\"sum\",\"c157b\",\"none\",\"12e6f\",\"none\",\"cf903\",\"none\",\"4cebf\",\"none\",\"3a8e7\",\"sum\"]],\"sortArray\",[],\"_selectedCell\",null,\"overflowType\",\"scroll\",\"selectedCell\",null,\"_defaultSelectedRow\",[\"^1?\",[\"mode\",\"index\",\"indexType\",\"display\",\"index\",0]],\"_hasNextPage\",false,\"_includeRowInChangesetArray\",false,\"_columnPosition\",[\"^1?\",[\"d2bd1\",\"center\",\"d08b7\",\"center\",\"4f756\",\"center\",\"fb55c\",\"center\",\"024fa\",\"center\",\"169eb\",\"center\",\"c157b\",\"center\",\"12e6f\",\"center\",\"cf903\",\"center\",\"4cebf\",\"center\",\"3a8e7\",\"center\"]],\"_enableSaveActions\",true,\"_columnPlaceholder\",[\"^1?\",[\"d2bd1\",\"Enter value\",\"d08b7\",\"Enter value\",\"4f756\",\"Enter value\",\"fb55c\",\"Select option\",\"024fa\",\"Enter value\",\"169eb\",\"Enter value\",\"c157b\",\"Select option\",\"12e6f\",\"Select option\",\"cf903\",\"Enter value\",\"4cebf\",\"Select option\",\"3a8e7\",\"Enter value\"]],\"_defaultFilterOperator\",\"and\",\"_actionLabel\",[\"^1?\",[\"ddebb\",\"Action 1\"]],\"_virtualizeEndIndex\",0,\"selectedRow\",null,\"_actionHidden\",[\"^1?\",[\"ddebb\",\"\"]],\"maintainSpaceWhenHidden\",false,\"_columnHidden\",[\"^1?\",[\"d2bd1\",\"\",\"d08b7\",\"true\",\"4f756\",\"\",\"fb55c\",\"\",\"024fa\",\"\",\"169eb\",\"\",\"c157b\",\"\",\"12e6f\",\"\",\"cf903\",\"\",\"4cebf\",\"\",\"3a8e7\",\"\"]],\"_columnLabel\",[\"^1?\",[\"d2bd1\",\"Note ID\",\"d08b7\",\"Retention\",\"4f756\",\"Tokens before\",\"fb55c\",\"Provider ID\",\"024fa\",\"Event ID\",\"169eb\",\"Tokens after\",\"c157b\",\"Site ID\",\"12e6f\",\"Note type\",\"cf903\",\"Event ts\",\"4cebf\",\"Stage\",\"3a8e7\",\"Retention %\"]],\"_showToolbar\",true]],\"^1@\",[\"^1?\",[]],\"^1A\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^19\",\"grid\",\"^1E\",\"\",\"^1L\",\"body\",\"^1M\",\"\",\"row\",0.8,\"col\",0,\"^1N\",8,\"^1O\",8,\"^1P\",0,\"^1Q\",null]]],\"^1B\",null,\"^1C\",null,\"^1D\",null,\"^1E\",\"\",\"^7\",\"~m1761203675610\",\"^1F\",\"~m1761344739725\",\"^1G\",\"\",\"^1H\",null,\"^1I\",\"page1\",\"^1J\",null,\"^1K\",null]]],\"fromFile\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"fromFile\",\"^17\",null,\"^18\",null,\"^19\",\"datasource\",\"^1:\",\"JavascriptQuery\",\"^1;\",null,\"^1<\",\"JavascriptQuery\",\"^1=\",null,\"^1>\",[\"^1?\",[\"queryRefreshTime\",\"\",\"allowedGroupIds\",[\"^B\",[]],\"streamResponse\",false,\"lastReceivedFromResourceAt\",null,\"isFunction\",false,\"functionParameters\",null,\"queryDisabledMessage\",\"\",\"servedFromCache\",false,\"offlineUserQueryInputs\",\"\",\"functionDescription\",null,\"successMessage\",\"\",\"queryDisabled\",\"\",\"playgroundQuerySaveId\",\"latest\",\"workflowParams\",null,\"resourceNameOverride\",\"\",\"runWhenModelUpdates\",false,\"workflowRunExecutionType\",\"sync\",\"showFailureToaster\",true,\"query\",\"return fileInput1.parsedValue[0];\",\"playgroundQueryUuid\",\"\",\"playgroundQueryId\",null,\"error\",null,\"workflowRunBodyType\",\"raw\",\"privateParams\",[\"^B\",[]],\"queryRunOnSelectorUpdate\",false,\"runWhenPageLoadsDelay\",\"\",\"data\",null,\"importedQueryInputs\",[\"^1?\",[]],\"_additionalScope\",[\"^B\",[]],\"isImported\",false,\"showSuccessToaster\",false,\"cacheKeyTtl\",\"\",\"requestSentTimestamp\",null,\"metadata\",null,\"queryRunTime\",null,\"changesetObject\",\"\",\"offlineOptimisticResponse\",null,\"errorTransformer\",\"return data.error\",\"finished\",null,\"confirmationMessage\",null,\"isFetching\",false,\"changeset\",\"\",\"rawData\",null,\"queryTriggerDelay\",\"0\",\"resourceTypeOverride\",null,\"watchedParams\",[\"^B\",[]],\"enableErrorTransformer\",false,\"showLatestVersionUpdatedWarning\",false,\"timestamp\",0,\"importedQueryDefaults\",[\"^1?\",[]],\"enableTransformer\",false,\"showUpdateSetValueDynamicallyToggle\",true,\"overrideOrgCacheForUserCache\",false,\"runWhenPageLoads\",false,\"transformer\",\"return data\",\"events\",[\"^B\",[]],\"queryTimeout\",\"10000\",\"workflowId\",null,\"requireConfirmation\",false,\"queryFailureConditions\",\"\",\"changesetIsObject\",false,\"enableCaching\",false,\"allowedGroups\",[\"^B\",[]],\"offlineQueryType\",\"None\",\"queryThrottleTime\",\"750\",\"updateSetValueDynamically\",false,\"notificationDuration\",4.5]],\"^1@\",null,\"^1A\",null,\"^1B\",null,\"^1C\",null,\"^1D\",null,\"^1E\",\"\",\"^7\",\"~m1761250016084\",\"^1F\",\"~m1761250070945\",\"^1G\",\"\",\"^1H\",null,\"^1I\",null,\"^1J\",null,\"^1K\",null]]],\"barChart1\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"barChart1\",\"^17\",\"203e9ac2-7919-4b44-8bce-f96367f8fe38\",\"^18\",null,\"^19\",\"widget\",\"^1:\",\"ChartWidget2\",\"^1;\",null,\"^1<\",null,\"^1=\",null,\"^1>\",[\"^1?\",[\"plotlyLayoutJson\",[\"^ \"],\"plotlyDataJson\",[],\"showPan\",false,\"_seriesHidden\",[\"^1?\",[]],\"yAxis2Title\",\"\",\"_seriesColorInputMode\",[\"^1?\",[\"0\",\"colorArrayDropDown\"]],\"_seriesHoverTemplate\",[\"^1?\",[\"0\",\"<b>%{x}</b><br>%{fullData.name}: %{y}<extra></extra>\"]],\"sankeyLinkColorArrayDropDown\",[],\"yAxisGrid\",false,\"xAxisRangeMax\",\"\",\"sankeyLinkHoverTemplateMode\",\"manual\",\"_seriesTextTemplateMode\",[\"^1?\",[\"0\",\"manual\"]],\"_seriesGroupBy\",[\"^1?\",[\"0\",[\"site_id\"]]],\"_seriesFilteredGroups\",[\"^1?\",[\"0\",null]],\"heatmapShowScale\",false,\"yAxisRangeMax\",\"100\",\"_seriesName\",[\"^1?\",[\"0\",\"Retention %\"]],\"labelDataMode\",\"manual\",\"sunburstDataBranchValues\",\"total\",\"_seriesIncreasingBorderColor\",[\"^1?\",[\"0\",\"{{ theme.success }}\"]],\"showToolbarAddOn\",false,\"_seriesIds\",[\"^B\",[\"0\"]],\"_seriesGroupByStyles\",[\"^1?\",[\"0\",[\"^1?\",[]]]],\"barGap\",\"0.3\",\"showToImage\",false,\"_seriesHiddenMode\",[\"^1?\",[]],\"_seriesHoverTemplateMode\",[\"^1?\",[\"0\",\"source\"]],\"sankeyLinkColorInputMode\",\"colorArray\",\"sankeyDatasource\",null,\"_seriesFilteredGroupsMode\",[\"^1?\",[\"0\",\"source\"]],\"_seriesYAxis\",[\"^1?\",[\"0\",\"y\"]],\"datasource\",null,\"gradientColorArray\",null,\"_seriesShowMarkers\",[\"^1?\",[\"0\",false]],\"yAxisRangeMode\",\"manual\",\"_seriesAggregationType\",[\"^1?\",[\"0\",\"average\"]],\"_seriesDecreasingBorderColor\",[\"^1?\",[\"0\",\"{{ theme.danger }}\"]],\"xAxisRangeMode\",\"auto\",\"textTemplate\",\"\",\"_seriesMarkerBorderColor\",[\"^1?\",[\"0\",null]],\"colorArrayDropDown\",[],\"sankeyDatasourceMode\",\"manual\",\"_seriesMarkerSymbol\",[\"^1?\",[\"0\",\"circle\"]],\"datasourceMode\",\"manual\",\"yAxis2RangeMode\",\"auto\",\"yAxis2ShowLine\",false,\"showSecondYAxis\",false,\"showBoxSelect\",false,\"colorInputMode\",\"colorArray\",\"barGroupGap\",0,\"hidden\",false,\"textTemplateMode\",\"manual\",\"_seriesMarkerBorderWidth\",[\"^1?\",[\"0\",0]],\"data\",null,\"xAxisShowLine\",false,\"_seriesGroupByDropdownType\",[\"^1?\",[\"0\",\"source\"]],\"yAxisShowLine\",false,\"clearOnEmptyData\",false,\"_seriesColorArray\",[\"^1?\",[\"0\",[\"{{ theme.primary }}\"]]],\"showZoomSelect\",false,\"yAxis2TickFormat\",\"\",\"_seriesXData\",[\"^1?\",[\"0\",\"{{ retentionData.data?.map(row => row.site_id) }}\"]],\"xAxisTickFormat\",\"\",\"_seriesYData\",[\"^1?\",[\"0\",\"{{ retentionData.data?.map(row => Number(row[\\\"Retention %\\\"])) }}\"]],\"_seriesWaterfallBase\",[\"^1?\",[\"0\",0]],\"yAxis2RangeMin\",\"\",\"_seriesZData\",[\"^1?\",[\"0\",null]],\"margin\",\"4px 8px\",\"_seriesIncreasingColor\",[\"^1?\",[\"0\",\"{{ theme.success }}\"]],\"xAxisRangeMin\",\"\",\"yAxisTickFormat\",\"\",\"sankeyLinkColorArray\",[],\"showInEditor\",false,\"yAxis2TickFormatMode\",\"gui\",\"yAxisRangeMin\",\"0\",\"_seriesXDataMode\",[\"^1?\",[\"0\",\"manual\"]],\"sunburstDataLeafOpacity\",0,\"lineColor\",\"\",\"xAxisTickFormatMode\",\"gui\",\"_seriesYDataMode\",[\"^1?\",[\"0\",\"manual\"]],\"yAxisScale\",\"auto\",\"textTemplatePosition\",\"inside\",\"_seriesType\",[\"^1?\",[\"0\",\"bar\"]],\"_seriesZDataMode\",[\"^1?\",[\"0\",\"manual\"]],\"xAxisScale\",\"auto\",\"sankeyAllowDuplicateNodesAtDifferentSteps\",false,\"yAxis2ShowTickLabels\",true,\"_seriesWaterfallMeasures\",[\"^1?\",[\"0\",null]],\"yAxisTickFormatMode\",\"gui\",\"_seriesMarkerSize\",[\"^1?\",[\"0\",6]],\"yAxis2Scale\",\"auto\",\"lineWidth\",0,\"xAxisShowTickLabels\",true,\"_seriesDecreasingColor\",[\"^1?\",[\"0\",\"{{ theme.danger }}\"]],\"yAxisShowTickLabels\",true,\"_seriesMarkerColor\",[\"^1?\",[\"0\",\"{{ theme.primary }}\"]],\"_seriesLineUnderFillMode\",[\"^1?\",[\"0\",\"none\"]],\"_seriesWaterfallMeasuresMode\",[\"^1?\",[\"0\",\"source\"]],\"yAxis2ZeroLine\",false,\"parentData\",[],\"showZoomIn\",false,\"xAxisZeroLine\",false,\"sankeyNodeHoverTemplate\",\"\",\"legendPosition\",\"none\",\"barMode\",\"group\",\"yAxisZeroLine\",false,\"colorArray\",[],\"pieDataHole\",0,\"yAxis2Sort\",\"none\",\"hoverTemplate\",\"\",\"_seriesLineShape\",[\"^1?\",[\"0\",\"linear\"]],\"xAxisSort\",\"none\",\"showResetView\",false,\"series\",null,\"yAxisTitleStandoff\",20,\"parentDataMode\",\"manual\",\"chartType\",\"bar\",\"_seriesConnectorLineColor\",[\"^1?\",[\"0\",\"#000000\"]],\"yAxisSort\",\"none\",\"xAxisTitleStandoff\",20,\"sankeyNodeHoverTemplateMode\",\"manual\",\"title\",\"{{ \\\"Last updated: \\\" + new Date().toLocaleTimeString() }}\",\"yAxisLineWidth\",0,\"stackedBarTotalsDataLabelPosition\",\"none\",\"yAxis2\",null,\"xAxis\",null,\"_seriesHoverTemplateArray\",[\"^1?\",[\"0\",\"<b>%{x}</b><br>%{fullData.name}: %{y}<extra></extra>\"]],\"hoverTemplateMode\",\"manual\",\"_seriesLineColor\",[\"^1?\",[\"0\",\"{{ theme.primary }}\"]],\"events\",[\"^16\",[]],\"xAxisLineWidth\",0,\"showLassoSelect\",false,\"yAxis2TitleStandoff\",20,\"yAxis2LineWidth\",1,\"yAxis\",null,\"_seriesDatasource\",[\"^1?\",[\"0\",\"{{ retentionData.data }}\"]],\"valueData\",[],\"toolbar\",[\"^ \"],\"_seriesGradientColorArray\",[\"^1?\",[\"0\",[[\"0.0\",\"{{ theme.success }}\"],[\"1.0\",\"{{ theme.primary }}\"]]]],\"_seriesLineWidth\",[\"^1?\",[\"0\",2]],\"_seriesLineDash\",[\"^1?\",[\"0\",\"solid\"]],\"_seriesColorArrayDropDown\",[\"^1?\",[\"0\",[\"{{ theme.primary }}\"]]],\"sankeyLinkHoverTemplate\",\"\",\"_seriesTextTemplate\",[\"^1?\",[\"0\",null]],\"barOrientation\",\"v\",\"_seriesDataLabelPosition\",[\"^1?\",[\"0\",\"none\"]],\"rangeSlider\",false,\"_seriesDatasourceMode\",[\"^1?\",[\"0\",\"source\"]],\"labelData\",[],\"showZoomOut\",false,\"valueDataMode\",\"manual\",\"showAutoscale\",false,\"yAxisTitle\",\"Retention %\",\"yAxis2Grid\",false,\"selectedPoints\",\"[]\",\"xAxisTitle\",\"Site\",\"maintainSpaceWhenHidden\",false,\"yAxis2RangeMax\",\"\",\"sankeyLinkGradientColorArray\",null,\"xAxisGrid\",false]],\"^1@\",[\"^1?\",[]],\"^1A\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^19\",\"grid\",\"^1E\",\"\",\"^1L\",\"body\",\"^1M\",\"\",\"row\",11.8,\"col\",0,\"^1N\",7.6,\"^1O\",5,\"^1P\",0,\"^1Q\",null]]],\"^1B\",null,\"^1C\",null,\"^1D\",null,\"^1E\",\"\",\"^7\",\"~m1761250950981\",\"^1F\",\"~m1761347208045\",\"^1G\",\"\",\"^1H\",null,\"^1I\",\"page1\",\"^1J\",null,\"^1K\",null]]],\"query4\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"query4\",\"^17\",null,\"^18\",null,\"^19\",\"datasource\",\"^1:\",\"JavascriptQuery\",\"^1;\",null,\"^1<\",\"JavascriptQuery\",\"^1=\",null,\"^1>\",[\"^1?\",[\"queryRefreshTime\",\"\",\"allowedGroupIds\",[\"^B\",[]],\"streamResponse\",false,\"lastReceivedFromResourceAt\",null,\"isFunction\",false,\"functionParameters\",null,\"queryDisabledMessage\",\"\",\"servedFromCache\",false,\"offlineUserQueryInputs\",\"\",\"functionDescription\",null,\"successMessage\",\"\",\"queryDisabled\",\"\",\"playgroundQuerySaveId\",\"latest\",\"workflowParams\",null,\"resourceNameOverride\",\"\",\"runWhenModelUpdates\",false,\"workflowRunExecutionType\",\"sync\",\"showFailureToaster\",true,\"query\",\"return table1.data;\\n\",\"playgroundQueryUuid\",\"\",\"playgroundQueryId\",null,\"error\",null,\"workflowRunBodyType\",\"raw\",\"privateParams\",[\"^B\",[]],\"queryRunOnSelectorUpdate\",false,\"runWhenPageLoadsDelay\",\"\",\"data\",null,\"importedQueryInputs\",[\"^1?\",[]],\"_additionalScope\",[\"^B\",[]],\"isImported\",false,\"showSuccessToaster\",false,\"cacheKeyTtl\",\"\",\"requestSentTimestamp\",null,\"metadata\",null,\"queryRunTime\",null,\"changesetObject\",\"\",\"offlineOptimisticResponse\",null,\"errorTransformer\",\"return data.error\",\"finished\",null,\"confirmationMessage\",null,\"isFetching\",false,\"changeset\",\"\",\"rawData\",null,\"queryTriggerDelay\",\"0\",\"resourceTypeOverride\",null,\"watchedParams\",[\"^B\",[]],\"enableErrorTransformer\",false,\"showLatestVersionUpdatedWarning\",false,\"timestamp\",0,\"importedQueryDefaults\",[\"^1?\",[]],\"enableTransformer\",false,\"showUpdateSetValueDynamicallyToggle\",true,\"overrideOrgCacheForUserCache\",false,\"runWhenPageLoads\",false,\"transformer\",\"return data\",\"events\",[\"^B\",[]],\"queryTimeout\",\"10000\",\"workflowId\",null,\"requireConfirmation\",false,\"queryFailureConditions\",\"\",\"changesetIsObject\",false,\"enableCaching\",false,\"allowedGroups\",[\"^B\",[]],\"offlineQueryType\",\"None\",\"queryThrottleTime\",\"750\",\"updateSetValueDynamically\",false,\"notificationDuration\",4.5]],\"^1@\",null,\"^1A\",null,\"^1B\",null,\"^1C\",null,\"^1D\",null,\"^1E\",\"\",\"^7\",\"~m1761251998704\",\"^1F\",\"~m1761254219367\",\"^1G\",\"\",\"^1H\",null,\"^1I\",\"page1\",\"^1J\",null,\"^1K\",null]]],\"retentionData\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"retentionData\",\"^17\",null,\"^18\",null,\"^19\",\"datasource\",\"^1:\",\"JavascriptQuery\",\"^1;\",null,\"^1<\",\"JavascriptQuery\",\"^1=\",null,\"^1>\",[\"^1?\",[\"queryRefreshTime\",\"30\",\"allowedGroupIds\",[\"^B\",[]],\"streamResponse\",false,\"lastReceivedFromResourceAt\",null,\"isFunction\",false,\"functionParameters\",null,\"queryDisabledMessage\",\"\",\"servedFromCache\",false,\"offlineUserQueryInputs\",\"\",\"functionDescription\",null,\"successMessage\",\"\",\"queryDisabled\",\"\",\"playgroundQuerySaveId\",\"latest\",\"workflowParams\",null,\"resourceNameOverride\",\"\",\"runWhenModelUpdates\",false,\"workflowRunExecutionType\",\"sync\",\"showFailureToaster\",true,\"query\",\"// Log the dropdown values for debugging (optional)\\nconsole.log(\\\"Stage:\\\", stageDropdown?.value);\\nconsole.log(\\\"Provider:\\\", providerDropdown?.value);\\nconsole.log(\\\"Note Type:\\\", noteTypeDropdown?.value);\\n\\n// Get all rows from the uploaded CSV\\nconst allRows = fileInput1.parsedValue[0] || [];\\n\\n// Get current filter selections (fallback to empty string if none)\\nconst selectedStage = stageDropdown?.value || \\\"\\\";\\nconst selectedProvider = providerDropdown?.value || \\\"\\\";\\nconst selectedNoteType = noteTypeDropdown?.value || \\\"\\\";\\n\\n// Filter by selected dropdown values\\nconst filtered = allRows.filter(row =>\\n  (!selectedStage || row.stage === selectedStage) &&\\n  (!selectedProvider || row.provider_id === selectedProvider) &&\\n  (!selectedNoteType || row.note_type === selectedNoteType)\\n);\\n\\n// Calculate Retention %\\nconst processed = filtered.map(row => {\\n  const before = Number(row.tokens_before);\\n  const after = Number(row.tokens_after);\\n\\n  // Handle invalid or zero tokens_before to avoid Infinity\\n  const retention = before > 0\\n    ? ((after / before) * 100).toFixed(2)\\n    : 0;\\n\\n  return {\\n    ...row,\\n    \\\"Retention %\\\": retention\\n  };\\n});\\n\\n// Return processed data to table + chart\\nreturn processed;\",\"playgroundQueryUuid\",\"\",\"playgroundQueryId\",null,\"error\",null,\"workflowRunBodyType\",\"raw\",\"privateParams\",[\"^B\",[]],\"queryRunOnSelectorUpdate\",false,\"runWhenPageLoadsDelay\",\"\",\"data\",null,\"importedQueryInputs\",[\"^1?\",[]],\"_additionalScope\",[\"^B\",[]],\"isImported\",false,\"showSuccessToaster\",false,\"cacheKeyTtl\",\"\",\"requestSentTimestamp\",null,\"metadata\",null,\"queryRunTime\",null,\"changesetObject\",\"\",\"offlineOptimisticResponse\",null,\"errorTransformer\",\"return data.error\",\"finished\",null,\"confirmationMessage\",null,\"isFetching\",false,\"changeset\",\"\",\"rawData\",null,\"queryTriggerDelay\",\"0\",\"resourceTypeOverride\",null,\"watchedParams\",[\"^B\",[]],\"enableErrorTransformer\",false,\"showLatestVersionUpdatedWarning\",false,\"timestamp\",0,\"importedQueryDefaults\",[\"^1?\",[]],\"enableTransformer\",false,\"showUpdateSetValueDynamicallyToggle\",true,\"overrideOrgCacheForUserCache\",false,\"runWhenPageLoads\",false,\"transformer\",\"return data\",\"events\",[\"^B\",[]],\"isMultiplayerEdited\",false,\"queryTimeout\",\"10000\",\"workflowId\",null,\"requireConfirmation\",false,\"queryFailureConditions\",\"\",\"changesetIsObject\",false,\"enableCaching\",false,\"allowedGroups\",[\"^B\",[]],\"offlineQueryType\",\"None\",\"queryThrottleTime\",\"750\",\"updateSetValueDynamically\",false,\"notificationDuration\",4.5]],\"^1@\",null,\"^1A\",null,\"^1B\",null,\"^1C\",null,\"^1D\",null,\"^1E\",\"\",\"^7\",\"~m1761253845004\",\"^1F\",\"~m1761345559569\",\"^1G\",\"\",\"^1H\",null,\"^1I\",\"page1\",\"^1J\",null,\"^1K\",null]]],\"query5\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"query5\",\"^17\",null,\"^18\",null,\"^19\",\"datasource\",\"^1:\",\"JavascriptQuery\",\"^1;\",null,\"^1<\",\"JavascriptQuery\",\"^1=\",null,\"^1>\",[\"^1?\",[\"queryRefreshTime\",\"\",\"allowedGroupIds\",[\"^B\",[]],\"streamResponse\",false,\"lastReceivedFromResourceAt\",null,\"isFunction\",false,\"functionParameters\",null,\"queryDisabledMessage\",\"\",\"servedFromCache\",false,\"offlineUserQueryInputs\",\"\",\"functionDescription\",null,\"successMessage\",\"\",\"queryDisabled\",\"\",\"playgroundQuerySaveId\",\"latest\",\"workflowParams\",null,\"resourceNameOverride\",\"\",\"runWhenModelUpdates\",false,\"workflowRunExecutionType\",\"sync\",\"showFailureToaster\",true,\"query\",\"return fileInput1.parsedValue[0];\",\"playgroundQueryUuid\",\"\",\"playgroundQueryId\",null,\"error\",null,\"workflowRunBodyType\",\"raw\",\"privateParams\",[\"^B\",[]],\"queryRunOnSelectorUpdate\",false,\"runWhenPageLoadsDelay\",\"\",\"data\",null,\"importedQueryInputs\",[\"^1?\",[]],\"_additionalScope\",[\"^B\",[]],\"isImported\",false,\"showSuccessToaster\",false,\"cacheKeyTtl\",\"\",\"requestSentTimestamp\",null,\"metadata\",null,\"queryRunTime\",null,\"changesetObject\",\"\",\"offlineOptimisticResponse\",null,\"errorTransformer\",\"return data.error\",\"finished\",null,\"confirmationMessage\",null,\"isFetching\",false,\"changeset\",\"\",\"rawData\",null,\"queryTriggerDelay\",\"0\",\"resourceTypeOverride\",null,\"watchedParams\",[\"^B\",[]],\"enableErrorTransformer\",false,\"showLatestVersionUpdatedWarning\",false,\"timestamp\",0,\"importedQueryDefaults\",[\"^1?\",[]],\"enableTransformer\",false,\"showUpdateSetValueDynamicallyToggle\",true,\"overrideOrgCacheForUserCache\",false,\"runWhenPageLoads\",false,\"transformer\",\"return data\",\"events\",[\"^B\",[]],\"queryTimeout\",\"10000\",\"workflowId\",null,\"requireConfirmation\",false,\"queryFailureConditions\",\"\",\"changesetIsObject\",false,\"enableCaching\",false,\"allowedGroups\",[\"^B\",[]],\"offlineQueryType\",\"None\",\"queryThrottleTime\",\"750\",\"updateSetValueDynamically\",false,\"notificationDuration\",4.5]],\"^1@\",null,\"^1A\",null,\"^1B\",null,\"^1C\",null,\"^1D\",null,\"^1E\",\"\",\"^7\",\"~m1761254235036\",\"^1F\",\"~m1761254237802\",\"^1G\",\"\",\"^1H\",null,\"^1I\",\"page1\",\"^1J\",null,\"^1K\",null]]],\"stageDropdown\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"stageDropdown\",\"^17\",\"1dd2ac3a-95d5-4163-a5bd-2bb9af46b2f3\",\"^18\",null,\"^19\",\"widget\",\"^1:\",\"SelectWidget2\",\"^1;\",null,\"^1<\",null,\"^1=\",null,\"^1>\",[\"^1?\",[\"imageByIndex\",[],\"_disabledByIndex\",[\"^B\",[false]],\"showSelectionIndicator\",true,\"_values\",[\"^B\",[\"Option 1\"]],\"iconByIndex\",[],\"values\",\"\",\"readOnly\",false,\"clearInputValueOnChange\",false,\"iconAfter\",\"\",\"_iconByIndex\",[\"^B\",[\"\"]],\"overlayMinWidth\",null,\"allowDeselect\",false,\"inputValue\",\"\",\"hidden\",false,\"customValidation\",\"\",\"data\",\"{{ [...new Set(fileInput1.parsedValue[0].map(r => r.stage))] }}\",\"searchMode\",\"fuzzy\",\"hideValidationMessage\",false,\"fallbackTextByIndex\",[],\"textBefore\",\"\",\"_fallbackTextByIndex\",[\"^B\",[\"\"]],\"selectedItem\",null,\"validationMessage\",\"\",\"margin\",\"4px 8px\",\"automaticItemColors\",false,\"itemAdornmentShape\",\"circle\",\"textAfter\",\"\",\"showInEditor\",false,\"showClear\",true,\"tooltipText\",\"\",\"labelAlign\",\"left\",\"formDataKey\",\"{{ self.id }}\",\"value\",\"\",\"hiddenByIndex\",[],\"labelCaption\",\"\",\"labelWidth\",\"33\",\"deprecatedLabels\",[],\"_hiddenByIndex\",[\"^B\",[false]],\"placeholder\",\"Select an option\",\"_captionByIndex\",[\"^B\",[\"\"]],\"itemAdornmentSize\",\"auto\",\"label\",\"Stage\",\"_hasMigratedNestedItems\",true,\"captionByIndex\",[],\"_validate\",false,\"itemMode\",\"dynamic\",\"labelWidthUnit\",\"%\",\"allowCustomValue\",false,\"invalid\",false,\"selectedIndex\",null,\"_tooltipByIndex\",[\"^B\",[\"\"]],\"_colorByIndex\",[\"^B\",[\"\"]],\"tooltipByIndex\",[],\"iconBefore\",\"\",\"colorByIndex\",[],\"selectedLabel\",\"\",\"events\",[\"^B\",[[\"^1?\",[\"event\",\"change\",\"type\",\"datasource\",\"method\",\"trigger\",\"pluginId\",\"retentionData\",\"targetId\",null,\"params\",[\"^1?\",[]],\"waitType\",\"debounce\",\"waitMs\",\"0\"]]]],\"_ids\",[\"^B\",[\"984a5\"]],\"emptyMessage\",\"No options\",\"overlayMaxHeight\",375,\"loading\",false,\"disabled\",false,\"labelPosition\",\"top\",\"_labels\",[\"^B\",[\"\"]],\"labelWrap\",false,\"disabledValues\",[],\"disabledByIndex\",[],\"maintainSpaceWhenHidden\",false,\"_imageByIndex\",[\"^B\",[\"\"]],\"required\",false,\"labels\",[]]],\"^1@\",[\"^1?\",[]],\"^1A\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^19\",\"grid\",\"^1E\",\"\",\"^1L\",\"body\",\"^1M\",\"\",\"row\",1,\"col\",9,\"^1N\",0.2,\"^1O\",3,\"^1P\",0,\"^1Q\",null]]],\"^1B\",null,\"^1C\",null,\"^1D\",null,\"^1E\",\"\",\"^7\",\"~m1761265841481\",\"^1F\",\"~m1761270436587\",\"^1G\",\"\",\"^1H\",null,\"^1I\",\"page1\",\"^1J\",null,\"^1K\",null]]],\"providerDropdown\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"providerDropdown\",\"^17\",\"86000cdc-7db0-4403-9819-5a5cc4fabf10\",\"^18\",null,\"^19\",\"widget\",\"^1:\",\"SelectWidget2\",\"^1;\",null,\"^1<\",null,\"^1=\",null,\"^1>\",[\"^1?\",[\"imageByIndex\",[],\"_disabledByIndex\",[\"^B\",[]],\"showSelectionIndicator\",true,\"_values\",[\"^B\",[]],\"iconByIndex\",[],\"values\",[],\"readOnly\",false,\"clearInputValueOnChange\",false,\"iconAfter\",\"\",\"_iconByIndex\",[\"^B\",[]],\"overlayMinWidth\",null,\"allowDeselect\",false,\"inputValue\",\"\",\"hidden\",false,\"customValidation\",\"\",\"data\",\"{{ [...new Set(fileInput1.parsedValue[0].map(r => r.provider_id))] }}\",\"searchMode\",\"fuzzy\",\"hideValidationMessage\",false,\"fallbackTextByIndex\",[],\"textBefore\",\"\",\"_fallbackTextByIndex\",[\"^B\",[]],\"selectedItem\",null,\"validationMessage\",\"\",\"margin\",\"4px 8px\",\"automaticItemColors\",false,\"itemAdornmentShape\",\"circle\",\"textAfter\",\"\",\"showInEditor\",false,\"showClear\",false,\"tooltipText\",\"\",\"labelAlign\",\"left\",\"formDataKey\",\"{{ self.id }}\",\"value\",null,\"hiddenByIndex\",[],\"labelCaption\",\"\",\"labelWidth\",\"33\",\"deprecatedLabels\",[],\"_hiddenByIndex\",[\"^B\",[]],\"placeholder\",\"Select an option\",\"_captionByIndex\",[\"^B\",[]],\"itemAdornmentSize\",\"auto\",\"label\",\"providerDropdown\",\"_hasMigratedNestedItems\",true,\"captionByIndex\",[],\"_validate\",false,\"itemMode\",\"dynamic\",\"labelWidthUnit\",\"%\",\"allowCustomValue\",false,\"invalid\",false,\"selectedIndex\",null,\"_tooltipByIndex\",[\"^B\",[]],\"_colorByIndex\",[\"^B\",[]],\"tooltipByIndex\",[],\"iconBefore\",\"\",\"colorByIndex\",[],\"selectedLabel\",\"\",\"events\",[\"^B\",[[\"^1?\",[\"event\",\"change\",\"type\",\"datasource\",\"method\",\"trigger\",\"pluginId\",\"retentionData\",\"targetId\",null,\"params\",[\"^1?\",[]],\"waitType\",\"debounce\",\"waitMs\",\"0\"]]]],\"_ids\",[\"^B\",[]],\"emptyMessage\",\"No options\",\"overlayMaxHeight\",375,\"loading\",false,\"disabled\",false,\"labelPosition\",\"top\",\"_labels\",[\"^B\",[]],\"labelWrap\",false,\"disabledValues\",[],\"disabledByIndex\",[],\"maintainSpaceWhenHidden\",false,\"_imageByIndex\",[\"^B\",[]],\"required\",false,\"labels\",[]]],\"^1@\",[\"^1?\",[]],\"^1A\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^19\",\"grid\",\"^1E\",\"\",\"^1L\",\"body\",\"^1M\",\"\",\"row\",3.6,\"col\",9,\"^1N\",0.2,\"^1O\",3,\"^1P\",0,\"^1Q\",null]]],\"^1B\",null,\"^1C\",null,\"^1D\",null,\"^1E\",\"\",\"^7\",\"~m1761341176459\",\"^1F\",\"~m1761341236910\",\"^1G\",\"\",\"^1H\",null,\"^1I\",\"page1\",\"^1J\",null,\"^1K\",null]]],\"noteTypeDropdown\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"noteTypeDropdown\",\"^17\",\"93981305-8d86-4b4f-b162-9dc720e37b2c\",\"^18\",null,\"^19\",\"widget\",\"^1:\",\"SelectWidget2\",\"^1;\",null,\"^1<\",null,\"^1=\",null,\"^1>\",[\"^1?\",[\"imageByIndex\",[],\"_disabledByIndex\",[\"^B\",[\"\",\"\",\"\"]],\"showSelectionIndicator\",true,\"_values\",[\"^B\",[\"Option 1\",\"Option 2\",\"Option 3\"]],\"iconByIndex\",[],\"values\",[],\"readOnly\",false,\"clearInputValueOnChange\",false,\"iconAfter\",\"\",\"_iconByIndex\",[\"^B\",[\"\",\"\",\"\"]],\"overlayMinWidth\",null,\"allowDeselect\",false,\"inputValue\",\"\",\"hidden\",false,\"customValidation\",\"\",\"data\",\"{{ [...new Set(fileInput1.parsedValue[0].map(r => r.note_type))] }}\",\"searchMode\",\"fuzzy\",\"hideValidationMessage\",false,\"fallbackTextByIndex\",[],\"textBefore\",\"\",\"_fallbackTextByIndex\",[\"^B\",[\"\",\"\",\"\"]],\"selectedItem\",null,\"validationMessage\",\"\",\"margin\",\"4px 8px\",\"automaticItemColors\",false,\"itemAdornmentShape\",\"circle\",\"textAfter\",\"\",\"showInEditor\",false,\"showClear\",false,\"tooltipText\",\"\",\"labelAlign\",\"left\",\"formDataKey\",\"{{ self.id }}\",\"value\",null,\"hiddenByIndex\",[],\"labelCaption\",\"\",\"labelWidth\",\"33\",\"deprecatedLabels\",[],\"_hiddenByIndex\",[\"^B\",[\"\",\"\",\"\"]],\"placeholder\",\"Select an option\",\"_captionByIndex\",[\"^B\",[\"\",\"\",\"\"]],\"itemAdornmentSize\",\"auto\",\"label\",\"noteDropdown\",\"_hasMigratedNestedItems\",true,\"captionByIndex\",[],\"_validate\",false,\"itemMode\",\"dynamic\",\"labelWidthUnit\",\"%\",\"allowCustomValue\",false,\"invalid\",false,\"selectedIndex\",null,\"_tooltipByIndex\",[\"^B\",[\"\",\"\",\"\"]],\"_colorByIndex\",[\"^B\",[\"\",\"\",\"\"]],\"tooltipByIndex\",[],\"iconBefore\",\"\",\"colorByIndex\",[],\"selectedLabel\",\"\",\"events\",[\"^B\",[[\"^1?\",[\"event\",\"change\",\"type\",\"datasource\",\"method\",\"trigger\",\"pluginId\",\"retentionData\",\"targetId\",null,\"params\",[\"^1?\",[]],\"waitType\",\"debounce\",\"waitMs\",\"0\"]]]],\"_ids\",[\"^B\",[\"00030\",\"00031\",\"00032\"]],\"emptyMessage\",\"No options\",\"overlayMaxHeight\",375,\"loading\",false,\"disabled\",false,\"labelPosition\",\"top\",\"_labels\",[\"^B\",[\"\",\"\",\"\"]],\"labelWrap\",false,\"disabledValues\",[],\"disabledByIndex\",[],\"maintainSpaceWhenHidden\",false,\"_imageByIndex\",[\"^B\",[\"\",\"\",\"\"]],\"required\",false,\"labels\",[]]],\"^1@\",[\"^1?\",[]],\"^1A\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^19\",\"grid\",\"^1E\",\"\",\"^1L\",\"body\",\"^1M\",\"\",\"row\",6,\"col\",9,\"^1N\",0.2,\"^1O\",3,\"^1P\",0,\"^1Q\",null]]],\"^1B\",null,\"^1C\",null,\"^1D\",null,\"^1E\",\"\",\"^7\",\"~m1761341180304\",\"^1F\",\"~m1761344087538\",\"^1G\",\"\",\"^1H\",null,\"^1I\",\"page1\",\"^1J\",null,\"^1K\",null]]]]],\"preloadedAppJavaScript\",null,\"preloadedAppJSLinks\",[],\"queryStatusVisibility\",false,\"responsiveLayoutDisabled\",false,\"rootScreen\",\"page1\",\"savePlatform\",\"web\",\"shortlink\",null,\"testEntities\",[],\"tests\",[],\"urlFragmentDefinitions\",[\"^B\",[]],\"version\",\"3.294.0\",\"serializedLayout\",null,\"agentEvals\",[\"^ \"]]]]"},"changesRecord":[],"changesRecordV2":[{"data":{"op":"update","ids":["barChart1"],"tag":"plugin"},"type":"diff","userId":1991390,"version":1},{"data":{"op":"update","ids":["barChart1"],"tag":"plugin"},"type":"diff","userId":1991390,"version":1}],"checksum":null,"multiplayerSessionId":"1761343968760","appTestingSaveId":null,"subflows":null,"isCopilotGenerated":false,"createdAt":"2025-10-24T23:06:50.415Z","updatedAt":"2025-10-24T23:06:50.415Z","pageId":4574258,"userId":1991390},"modules":{}}